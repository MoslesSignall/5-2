; 第06题：键盘输入一个十进制数（字类型），以十六进制的形式输出。
; Coded by: Mosles Signall
; Date: 2025-Oct-23

DATAS SEGMENT
    ADDITION DW 0
DATAS ENDS

STACKS SEGMENT
    DW 100 DUP(?)
STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
START:
    MOV AX,DATAS
    MOV DS,AX

    MOV BX,10
INPUT:
    MOV AH,1
    INT 21H
    CMP AL,0DH
    JE INPUT_END
    MOV AH,0
    SUB AL,30H
    PUSH AX
    MOV AX,ADDITION
    MUL BX
    POP DX
    ADD AX,DX
    MOV DX,0
    MOV ADDITION,AX
    JMP INPUT

INPUT_END:
    MOV CX,4
	MOV AX,ADDITION
	
DIVIDE_LOOP:
    MOV BX,16
    MOV DX,0
    DIV BX
    ADD DX,30H
    CMP DX,39H
    JA ADD07
    END_ADD07:
    PUSH DX
    LOOP DIVIDE_LOOP

DISPLAY:
    MOV CX,4
    MOV AH,2

DISPLAY_LOOP:
    POP DX
    INT 21H
    LOOP DISPLAY_LOOP

EXIT:
    MOV AH,4CH
    INT 21H

ADD07:
    ADD DX,07H
    JMP END_ADD07

CODES ENDS
    END START